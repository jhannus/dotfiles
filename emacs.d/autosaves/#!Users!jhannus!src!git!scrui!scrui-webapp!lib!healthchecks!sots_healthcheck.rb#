require 'http_get_helper'
require 'uri'

class SotsHealthcheck < Healthcheck::Base

  healthcheck 'Sots Healthcheck', :non_critical do
    puts URI.join(APP_CONFIG['sots_service_url'], '/healthcheck_ping').to_s
    response = HttpGetHelper::get(URI.join(APP_CONFIG['sots_service_url'], '/healthcheck_ping').to_s)
    status = response.body.strip.downcase == 'pong' ? [:passed] : [:failed]
  end

end
